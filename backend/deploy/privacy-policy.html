<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Privacy Policy - 꼬마 한동화</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 720px; margin: 0 auto; padding: 24px; line-height: 1.6; color: #333; }
    h1 { font-size: 1.5rem; margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 0.5em; }
    #content h2 { font-size: 1.2rem; margin-top: 1.5em; }
    #content p { margin: 0.75em 0; }
    #content ul { margin: 0.5em 0; padding-left: 1.5em; }
    .loading { color: #666; }
    .error { color: #c00; }
    a { color: #1976d2; }
  </style>
</head>
<body>
  <div id="content" class="loading">Loading...</div>
  <p style="margin-top: 2em;">
    <a href="https://trananhtu.vn/terms-of-service.html">Terms of Service</a> ·
    <a href="https://trananhtu.vn/age-suitability.html">Age Suitability</a> ·
    <a href="https://trananhtu.vn/support.html">Support</a>
  </p>

  <script>
    (function() {
      const slug = 'privacy';
      const locale = new URLSearchParams(location.search).get('locale') || 'ko';
      const url = 'https://trananhtu.vn/api/collections/content_pages/records?filter=(slug%3D%22' + slug + '%22%26%26locale%3D%22' + encodeURIComponent(locale) + '%22%26%26active%3Dtrue)&perPage=1';
      const urlFallback = 'https://trananhtu.vn/api/collections/content_pages/records?filter=(slug%3D%22' + slug + '%22%26%26active%3Dtrue)&perPage=1';
      function render(data) {
        const el = document.getElementById('content');
        if (data.items && data.items[0]) {
          const r = data.items[0];
          document.title = (r.title || 'Privacy Policy') + ' - 꼬마 한동화';
          el.className = '';
          el.innerHTML = '<h1>' + (r.title || 'Privacy Policy') + '</h1>' + (r.content || '');
        } else {
          el.className = 'error';
          el.textContent = 'Content not found.';
        }
      }
      fetch(url).then(r => r.json())
        .then(data => {
          if (data.items && data.items[0]) return render(data);
          return fetch(urlFallback).then(r => r.json()).then(render);
        })
        .catch(err => {
          document.getElementById('content').className = 'error';
          document.getElementById('content').textContent = 'Failed to load: ' + err.message;
        });
    })();
  </script>
</body>
</html>
